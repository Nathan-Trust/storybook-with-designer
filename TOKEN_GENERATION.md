# Design Token Generation System

This project uses auto-generated design tokens from Supernova CSS files to maintain consistency across Figma variables and Tailwind CSS configuration.

## Overview

All design tokens flow from Supernova-synced CSS files:
- `colors.css` - 530 color tokens
- `measures.css` - 86 measurement tokens (spacing, typography, borders)
- `shadows.css` - Shadow definitions
- `typography.css` - Typography utility classes
- `gradients.css` - Gradient definitions

## Auto-Generated Files

### 1. `figma-variables.css` (722 lines, 511 tokens)
Maps Figma variable naming conventions to Supernova tokens using CSS custom properties.

**Generated by:** `generate-figma-variables.js`

**Example:**
```css
--spacing/1: var(--measure-dimension-scale-100); /* 4px */
--colors/green/9: var(--color-green-default); /* #46a758 */
--components/button✅/brand/background-brand-solid: var(--color-components-button-brand-background-brand-solid);
```

### 2. `tailwind-variables.js` (1110 lines, 617 tokens)
Provides Tailwind CSS configuration with all Supernova design tokens.

**Generated by:** `generate-tailwind-variables.js`

**Example:**
```javascript
module.exports = {
  colors: {
    green: {
      '1': '#fbfefb',
      default: '#46a758',
      alpha: { ... }
    }
  },
  spacing: { ... },
  borderRadius: { ... },
  fontSize: { ... }
}
```

## Scripts

### Generate All Tokens
```bash
npm run generate:tokens
```
Regenerates both `figma-variables.css` and `tailwind-variables.js` from Supernova CSS files.

### Generate Individual Files
```bash
npm run generate:figma      # Generate figma-variables.css only
npm run generate:tailwind   # Generate tailwind-variables.js only
```

### Direct Execution
```bash
node generate-figma-variables.js
node generate-tailwind-variables.js
```

## Token Categories

### Colors (530 tokens)
- **Base Colors:** green, blue, gray, orange, red
- **Semantic Colors:** brand, accent, error, success, neutral, info
- **Alpha Variants:** Transparency variants for all color scales
- **Component Colors:** Specific tokens for buttons, badges, tabs, inputs, etc.
- **Surface Colors:** Page backgrounds, action surfaces
- **Text Colors:** Headings, body, actions, states
- **Icon Colors:** Strong, soft, subtle, action states
- **Border Colors:** Lighter, light, subtle, strong, states

### Spacing (32 tokens)
- **Dimension Scales:** 0, 25, 50, 100, 200, 250, 300, 400, 500, 600, 700, 800, 900 (0px - 40px)
- **Gap:** 0, sm, md, lg, xl, xxl, 2xl, 3xl
- **Padding:** 0, sm, md, lg, xl, xxl
- **Margin:** 0, sm, md, lg, xl

### Typography (23 tokens)
- **Font Sizes:** h1-h6, paragraph (xs, sm, md, lg, xxs)
- **Line Heights:** h1-h6, paragraph (xs, sm, md, lg, xxs)
- **Paragraph Spacing:** Auto-calculated from line heights

### Border Radius (16 tokens)
- **Base:** none, small (2px), medium (4px), large (8px), extra-large (10px), 2-extra-large (32px)
- **Component-specific:** buttons, inputs, product-cards, modals, avatars, badges, callouts, review-cards

### Border Width (4 tokens)
- none (0px), small (1px), medium (2px), large (4px)

### Shadows (1 token)
- shad-5: Multi-layer shadow with blur and spread

## File Structure

```
├── colors.css                      # Source: Supernova colors (530 tokens)
├── measures.css                    # Source: Supernova measures (86 tokens)
├── shadows.css                     # Source: Supernova shadows (1 token)
├── typography.css                  # Source: Supernova typography (utility classes)
├── gradients.css                   # Source: Supernova gradients (empty)
├── index.css                       # Master import file
│
├── figma-variables.css             # Generated: Figma → Supernova mapping (722 lines)
├── tailwind-variables.js           # Generated: Tailwind config (1110 lines)
│
├── generate-figma-variables.js     # Generator script for CSS variables
└── generate-tailwind-variables.js  # Generator script for Tailwind config
```

## Usage in Components

### CSS/Tailwind
```css
/* Use Figma-style variables */
.button {
  background: var(--components/button✅/brand/background-brand-solid);
  border-radius: var(--radius/2);
  padding: var(--spacing/4);
}
```

### Tailwind Config
```javascript
// tailwind.config.ts
const tokens = require('./tailwind-variables');

module.exports = {
  theme: {
    extend: {
      colors: tokens.colors,
      spacing: tokens.spacing,
      borderRadius: tokens.borderRadius,
      // ... other tokens
    }
  }
}
```

## Benefits

✅ **Single Source of Truth:** All tokens sourced from Supernova CSS files  
✅ **No Static Values:** Everything references design system tokens  
✅ **Auto-Generated:** Run one command to sync all changes  
✅ **Type-Safe:** Consistent naming across Figma and code  
✅ **Scalable:** Easy to add new tokens as design system grows  
✅ **Maintainable:** Clear mapping between Figma and implementation  

## Workflow

1. **Designer updates Figma** → Syncs to Supernova
2. **Supernova exports** → Updates `colors.css`, `measures.css`, etc.
3. **Developer runs** → `npm run generate:tokens`
4. **Auto-generates** → `figma-variables.css` + `tailwind-variables.js`
5. **Components use** → Updated tokens automatically

## Known Issues

⚠️ **Brand Color Mismatch:** Figma uses GREEN (#46a758) but some Supernova tokens are BLUE (#0090ff). Designer needs to update and re-sync Supernova.

Affected tokens:
- `--color-surface-action`
- `--color-components-sidebar-item-icon-active`
- `--color-components-tab-tab-trigger-color-selector`
- `--color-components-product-card-price-text`
- `--color-components-button-brand-background-brand-solid`

## Contributing

When adding new design tokens:

1. Update Supernova and sync to CSS files
2. Run `npm run generate:tokens`
3. Commit both source CSS and generated files
4. Test components with new tokens

## Troubleshooting

**Problem:** Generated files show old values  
**Solution:** Ensure Supernova export is up to date, then regenerate

**Problem:** Script fails with error  
**Solution:** Check that all CSS files exist and have valid CSS syntax

**Problem:** Tokens not showing in components  
**Solution:** Restart dev server after regenerating tokens

---

**Last Generated:** Run `npm run generate:tokens` to update  
**Total Tokens:** 617 design tokens from Supernova
